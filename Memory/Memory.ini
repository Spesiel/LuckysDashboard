[Rainmeter]
Group=Memory

[Metadata]
Name=Memory
Author=Lucky Penny
Information=Displays informations about the memories.
License=Creative Commons BY-NC-SA 3.0
Version=0.0.3

[Variables]
@IncludeGlobal=#@#Global.inc
Scale=#ScaleMemory#

;------------------------------------------------------------------------------

[DummyStartPoint]
Meter=Image
X=5
Y=0
W=1
H=1
SolidColor=#ColorClear#

;------------------------------------------------------------------------------

[MeasurePhysicalUsed]
Measure=PhysicalMemory

[MeasurePageFileUsed]
Measure=Plugin
Plugin=PerfMon
UpdateDivider=5
PerfMonObject=Paging File
PerfMonCounter=% Usage
PerfMonInstance=_Total
PerfMonDifference=0

[MeasureSwapTotal]
Measure=SwapMemory
Total=1
UpdateDivider=5

[MeasurePhysicalTotal]
Measure=PhysicalMemory
Total=1
UpdateDivider=-1

[MeasurePagefileTotal]
Measure=Calc
Formula=(MeasureSwapTotal + 1880064) - MeasurePhysicalTotal

[MeasurePagefileUsedPercent]
Measure=Calc
Formula=(measurePageFileUsed * 4096) / MeasurePagefileTotal

;------------------------------------------------------------------------------

[MeterPhysicalMemoryHistogram]
Meter=Histogram
MeterStyle=HistogramStyle
X=4
Y=5R
W=240
H=50
MeasureName=MeasurePhysicalUsed
TransformationMatrix=#Scaling#

[MeterPhysicalMemory]
Meter=String
MeterStyle=TextStyle
StringStyle=Normal
FontSize=9
X=1r
Y=1r
MeasureName=MeasurePhysicalUsed
Percentual=1
Text=Physical %1%

[MeterPagefileMemoryHistogram]
Meter=Histogram
MeterStyle=HistogramStyle
X=4
Y=([MeterPhysicalMemoryHistogram:Y]+[MeterPhysicalMemoryHistogram:H]+5)
W=240
H=50
MeasureName=MeasurePhysicalUsed
TransformationMatrix=#Scaling#

[MeterPagefileMemory]
Meter=String
MeterStyle=TextStyle
StringStyle=Normal
FontSize=9
X=1r
Y=1r
MeasureName=MeasurePagefileUsedPercent
Percentual=1
Text=Pagefile %1%

;------------------------------------------------------------------------------

[DummyEndPoint]
Meter=Image
X=5
Y=([MeterPagefileMemoryHistogram:Y]+[MeterPagefileMemoryHistogram:H]+5)
W=1
H=1
SolidColor=#ColorClear#
